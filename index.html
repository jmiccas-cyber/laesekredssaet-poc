<!doctype html>
<html lang="da">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>L√¶sekredss√¶t ‚Äì POC v2.8</title>
  <style>
    :root { --bg:#0f1115; --card:#171a21; --text:#e7e9ee; --muted:#9aa3b2; --accent:#4da3ff; --accent2:#6ce5b1; --danger:#ff6161; --border:#232834; }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text)}
    header{padding:24px;border-bottom:1px solid var(--border);background:linear-gradient(180deg,#12151c,#0f1115)}
    header h1{margin:0 0 6px 0;font-size:22px}
    header p{margin:0;color:var(--muted);font-size:14px}
    main.container{max-width:1100px;margin:24px auto;padding:0 16px}
    .panel{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:14px}
    .searchbar{display:grid;grid-template-columns:1.4fr 0.9fr 0.9fr auto;gap:10px}
    input,button,select{padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0c0f14;color:var(--text);outline:none}
    button.primary{background:var(--accent);color:#08131e;font-weight:700;cursor:pointer}
    button.primary:hover{filter:brightness(1.07)}
    .note{margin:10px 0 0 0;font-size:12px;color:var(--muted)}
    .results{margin-top:16px}
    table{width:100%;border-collapse:collapse;font-size:14px}
    thead th{text-align:left;padding:10px;border-bottom:1px solid var(--border);color:var(--muted)}
    tbody td{padding:10px;border-bottom:1px solid var(--border)}
    tbody tr:hover{background:#141825}
    .badge{display:inline-block;padding:4px 8px;border:1px solid var(--border);border-radius:999px;font-size:12px;margin-right:6px}
    .ok{background:#13331f}
    .warn{background:#332a13}
    .bookBtn{padding:8px 12px;border-radius:8px;border:1px solid var(--border);cursor:pointer;background:var(--accent2);color:#072316;font-weight:700}
    .muted{color:var(--muted)}
    .admin{margin-top:30px}
    .admin h2{margin:0 0 10px 0;font-size:18px}
    .row-actions button{margin-right:8px}
  </style>
</head>
<body>
  <header>
    <h1>L√¶sekredss√¶t ‚Äì POC v2.8</h1>
    <p>S√∏g p√• Titel, Forfatter, ISBN eller FAUST ‚Äì eller kun p√• periode. Systemet viser overlap og n√¶ste ledige startdato.</p>
  </header>

  <main class="container">
    <!-- üîç S√∏gning + periode -->
    <section class="panel">
      <div class="searchbar" aria-label="S√∏gning">
        <input id="searchInput" type="search" placeholder="Friteksts√∏gning (titel/forfatter/ISBN/FAUST) ‚Äì valgfri" />
        <input id="fromDate" type="date" />
        <input id="toDate" type="date" />
        <button id="searchButton" class="primary" type="button">S√∏g</button>
      </div>
      <div class="note">
        Hvis du kun v√¶lger datoer, s√∏ges der efter s√¶t med kalenderledighed i perioden.  
        ‚ÄúBook‚Äù beregner automatisk slutdato fra standard l√•neperiode + buffer.
      </div>
    </section>

    <!-- üìö Resultater -->
    <section id="results" class="panel results" aria-live="polite">
      <p class="muted">Indtast s√∏geord og/eller v√¶lg periode, og tryk <strong>S√∏g</strong>.</p>
    </section>

    <!-- üîß Admin (vises kun med ?admin=1) -->
    <section id="adminPanel" class="panel admin" style="display:none;">
      <h2>Admin ‚Äì Godkend/afvis ‚ÄúPending‚Äù bookinger</h2>
      <div id="adminTable"><p class="muted">Loader‚Ä¶</p></div>
    </section>
  </main>

  <footer style="color:var(--muted);text-align:center;padding:24px 0 40px;font-size:12px">
    L√¶sekredss√¶t POC ‚Ä¢ v2.8 ‚Ä¢ Supabase + Vercel
  </footer>

  <script type="module" src="./script.js"></script>
</body>
</html>
